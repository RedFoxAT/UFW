## Если Ваш сервер (нода) в мир смотрит без включенного фаервола то это лишь вопрос времени когда его ломанут!<br>
> If your server (noda) looks into the world without a firewall turned on, it is only a matter of time before it is broken!

Одной из первых мер по снижению рисков безопасности является грамотная настройка правил межсетевого экрана. Здесь даны основные команды и правила работы с утилитой UFW.
> One of the first measures to mitigate security risks is to properly configure firewall rules. Here are the basic commands and rules for working with the UFW utility.

## Предварительные требования:

1. Для начала работы с UFW вам потребуется суперпользователь( возможность исполнения команд под sudo).  
2. Утилита  UFW предустановлена в системе. Если по какой-то причине она была отсутствует, вы можете установить ее  с помощью команды:
```
sudo apt-get install ufw
```
## Проверка правил и текущего состояния UFW
```
sudo ufw status verbose
```
По умолчанию UFW отключен, так что вы должны увидеть что-то вроде этого:
```
Status: inactive
```

***Внимание!*** Проведите начальную настройку перед включением UFW. В частности, должен быть доступен SSH(22 порт). В ином случае вы рискуете потерять доступ к серверу.

## Начальная настройка

По умолчанию UFW настройки запрещают все входящие соединения и разрешают все исходящие. Это значит, что если кто-то попытается  достичь ваш сервер, он не сможет подключиться, в то время как любое приложение на сервере имеет доступ к внешним соединениям.

## Cоответствующие правила фаервола прописываются так:
```
sudo ufw default deny incoming
sudo ufw default allow outgoing
```

## Добавление правила для SSH-соединений
 Чтобы разрешить входящие SSH-соединения, выполните команду:
```
sudo ufw allow ssh
```
SSH демон прослушивает 22 порт. UFW знает об именах распространенных служб (ssh, sftp, http, https), поэтому вы можете использовать их вместо номера порта.

Теперь, когда ваш межсетевой экран настроен, можете включать его.

## Запуск UFW

Чтобы включить UFW, используйте следующую команду:
```
sudo ufw enable
```
Вы получите похожее  предупреждение:
```
Command may disrupt existing ssh connections. Proceed with operation (y|n)? 
```
Это означает, что запуск этого сервиса может разорвать текущее ssh соединение.
Но, так как мы его уже добавили ssh в правила, этого не произойдет. Поэтому просто нажмите (y).

Добавляем необходимые порты командой:
```
sudo ufw allow <port>
```
